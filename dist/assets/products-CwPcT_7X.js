import{j as e,r as l}from"./jsx-runtime-Dquw9cxk.js";import"./client-BdQ_cmek.js";import{c as b,H as N,F as _}from"./Footer-BxZNROHp.js";import{g as C,a as S}from"./imageUtils-Dk04rakr.js";const L=()=>{const[g,p]=l.useState([]),[v,f]=l.useState([]),[c,j]=l.useState([]),[n,u]=l.useState(""),[o,w]=l.useState([0,15e3]);l.useEffect(()=>{async function s(){try{const r=((await S(34)).body||[]).map(i=>({id:i.id,title:i.title,slug:i.slug,average_rating:i.average_rating||0,category_id:i.cat_id,product_images:i.product_images||[],variants:i.product_variants||[],description:i.description,video:i.video,is_featured:i.is_featured,is_fav:i.is_fav}));p(r);const d=[...new Set(r.map(i=>i.category_id))],m={1:"TENNIS BALL COURTS",2:"PICKLEBALL COURTS",3:"SPIKE BALL COURTS"},x=d.map(i=>({id:i,title:m[i]||`Category ${i}`}));f(x)}catch(a){console.error("Failed to load products data",a),p([{id:"fb-1",title:"Premium Spike Ball Court",slug:"premium-spike-ball-court",average_rating:0,category_id:3,product_images:[{image_url:"https://www.portacourts.com/storage/images/bz80kmVC0wHP1aSYI4AJ3RfifHp36YpDOcAEEURj.jpg"}],variants:[{price:5200,discounted_price:4160}]},{id:"fb-2",title:"Pickleball Court – Standard Court",slug:"pickleball-court-standard-court",average_rating:0,category_id:2,product_images:[{image_url:"https://www.portacourts.com/storage/images/LAJbtgX3kexrZLI8fp7yUfQrdPqRf4VLyUdVefD6.jpg"}],variants:[{price:7300,discounted_price:6570}]},{id:"fb-3",title:"Pickleball Court – Premium (with Acrylic Top)",slug:"pickleball-court-premium-with-acrylic-top",average_rating:0,category_id:2,product_images:[{image_url:"https://www.portacourts.com/storage/images/ZZFA0LxRbGtSVsLxyeiGzhyvUqCVZlMEBKwhli4W.jpg"}],variants:[{price:9800,discounted_price:8820}]}]),f([{id:1,title:"TENNIS BALL COURTS"},{id:2,title:"PICKLEBALL COURTS"},{id:3,title:"SPIKE BALL COURTS"}])}}s()},[]);const h=s=>{j(a=>a.includes(s)?a.filter(t=>t!==s):[...a,s])},y=l.useMemo(()=>{let s=[...g];return c.length&&(s=s.filter(a=>c.includes(String(a.category_id)))),s=s.filter(a=>{const t=a.variants&&a.variants[0]||{},r=Number(t.price||0);return r>=o[0]&&r<=o[1]}),s.sort((a,t)=>{const r=Number((a.variants&&a.variants[0]||{}).discounted_price||0),d=Number((t.variants&&t.variants[0]||{}).discounted_price||0);return n==="asc"?r-d:d-r}),s},[g,c,n,o]);return l.useEffect(()=>{try{if(window.$&&window.$.fn&&typeof window.$.fn.slider=="function"){const[s,a]=o,t=window.$("#slider-range");t.data("ui-slider")?t.slider("values",0,s).slider("values",1,a):t.slider({range:!0,min:0,max:15e3,values:[s,a],slide:function(r,d){const[m,x]=d.values;window.$("#amount").val(`$${m} - $${x}`)}}),window.$("#amount").val(`$${s} - $${a}`)}}catch{}},[o]),e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx("section",{className:"filter-wrapper py-5",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-3",children:[e.jsx("h3",{className:"font-oswald mb-3",children:"Filters"}),e.jsx("form",{method:"GET",id:"filter-form",children:e.jsxs("div",{className:"filter-inner",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-oswald py-2",children:"Category"})}),e.jsxs("ul",{className:"ps-0 category-listed ms-0",id:"category-list",children:[e.jsxs("li",{className:"text-grey font-Yantramanav fw-400 category-item","data-category-id":"1",children:[e.jsx("input",{type:"checkbox",name:"catID[]",value:"1",id:"category-1",className:"category-checkbox",checked:c.includes("1"),onChange:()=>h("1")}),e.jsx("label",{htmlFor:"category-1",children:"TENNIS BALL COURTS"})]}),e.jsxs("li",{className:"text-grey font-Yantramanav fw-400 category-item","data-category-id":"2",children:[e.jsx("input",{type:"checkbox",name:"catID[]",value:"2",id:"category-2",className:"category-checkbox",checked:c.includes("2"),onChange:()=>h("2")}),e.jsx("label",{htmlFor:"category-2",children:"PICKLEBALL COURTS"})]}),e.jsxs("li",{className:"text-grey font-Yantramanav fw-400 category-item","data-category-id":"3",children:[e.jsx("input",{type:"checkbox",name:"catID[]",value:"3",id:"category-3",className:"category-checkbox",checked:c.includes("3"),onChange:()=>h("3")}),e.jsx("label",{htmlFor:"category-3",children:"SPIKE BALL COURTS"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-oswald py-2",children:"Shop By Price"}),e.jsxs("div",{className:"price-range-slider pt-4",children:[e.jsx("div",{id:"slider-range",className:"range-bar"}),e.jsxs("div",{className:"d-flex align-items-center mt-3 justify-content-between",children:[e.jsx("h6",{className:"price-filter",children:"Prices Range"}),e.jsxs("p",{className:"range-value primary-theme",children:[e.jsx("input",{type:"text",id:"amount",readOnly:!0}),e.jsx("input",{type:"hidden",name:"min_price",id:"min-price",value:o[0]}),e.jsx("input",{type:"hidden",name:"max_price",id:"max-price",value:o[1]})]})]})]})]}),e.jsx("div",{children:e.jsx("h3",{className:"font-oswald pb-2 pt-3",children:"Sort By"})}),e.jsxs("ul",{className:"ps-0 category-listed",id:"sort-list",children:[e.jsxs("li",{className:"text-grey font-Yantramanav fw-400 sort-item","data-sort-by":"desc",children:[e.jsx("input",{type:"radio",name:"sort_by",id:"sort-desc",checked:n==="desc",onChange:()=>u("desc"),className:"sort-radio",value:"desc"}),e.jsx("label",{htmlFor:"sort-desc",class:"form-check-label ms-1",children:"High to Low"})]}),e.jsxs("li",{className:"text-grey font-Yantramanav fw-400 sort-item","data-sort-by":"asc",children:[e.jsx("input",{type:"radio",name:"sort_by",id:"sort-asc",checked:n==="asc",onChange:()=>u("asc"),className:"sort-radio",value:"asc"}),e.jsx("label",{htmlFor:"sort-asc",class:"form-check-label ms-1",children:"Low to High"})]})]}),e.jsx("button",{type:"submit",className:"green-btn w-100 mt-3",children:"Apply Filter"})]})})]}),e.jsxs("div",{className:"col-lg-9",children:[e.jsx("h3",{className:"font-oswald mb-3",children:"Products"}),(c.length>0||n)&&e.jsxs("div",{className:"productfilter d-flex align-items-baseline gap-2",children:[e.jsx("p",{className:"fw-500 mb-0 lh-1",children:"Filter:"}),e.jsxs("div",{className:"d-flex gap-2 align-items-center flex-wrap",id:"applied-filters",children:[c.map(s=>{const a=v.find(t=>String(t.id)===String(s));return a?e.jsxs("button",{className:"border-0 filterbtn primary-theme fw-400 font-Yantramanav d-flex align-items-center gap-2",onClick:()=>h(String(s)),children:[e.jsx("span",{children:a.title}),e.jsx("img",{src:`${window.location.origin}/webassets/img/crossfilter.svg`})]},s):null}),n&&e.jsxs("button",{className:"border-0 filterbtn primary-theme fw-400 font-Yantramanav d-flex align-items-center gap-2",onClick:()=>u(""),children:[e.jsx("span",{children:n==="desc"?"High to Low":"Low to High"}),e.jsx("img",{src:`${window.location.origin}/webassets/img/crossfilter.svg`})]}),e.jsx("a",{className:"border-0 clear-filter fw-400 font-Yantramanav d-flex align-items-center gap-2",href:"/products",onClick:s=>{s.preventDefault(),j([]),u(""),w([0,15e3])},children:"Clear All Filter"})]})]}),e.jsxs("div",{className:"row pt-4",children:[y.length===0&&e.jsx("div",{className:"d-flex mx-auto justify-content-center align-items-center my-5 h-100",children:e.jsx("img",{src:`${window.location.origin}/webassets/img/wishlist-empty.png`,className:" no-data-found"})}),y.map(s=>{const a=s.product_images&&s.product_images[0]||{},t=s.variants&&s.variants[0]||{},r=C(a.image_url);return e.jsx("div",{className:"col-md-6 col-xl-4 mb-3",children:e.jsx("a",{href:`/product-detail/${s.slug}?id=${s.id}`,className:"text-decoration-none",children:e.jsxs("div",{className:"feature-pro",children:[e.jsxs("div",{className:"product-feature-img product-bg position-relative",children:[e.jsx("img",{alt:"product_images",src:r,className:"img-fluid product-pic"}),e.jsx("a",{className:"icon-wish-product addwishlist","data-product-id":s.id,children:e.jsx("img",{src:`${window.location.origin}/webassets/img/unfillwishlist.svg`,className:"wishlist-icon"})})]}),e.jsxs("div",{className:"px-3 py-4 text-black",children:[e.jsx("h3",{className:"text-capitalize mb-2 fw-400 one-line text-black",children:s.title}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"mb-0",children:[e.jsxs("span",{className:"primary-theme price-offer",children:["$",t.discounted_price||"",".00"]}),e.jsxs("span",{className:"ms-2 price-old",children:["$",t.price||"",".00"]})]}),e.jsx("div",{className:"d-flex align-items-center gap-1",children:[...Array(5)].map((d,m)=>e.jsx("i",{className:m<Math.floor(s.average_rating||0)?"fa fa-star":"fa fa-star-o","aria-hidden":"true"},m))})]}),e.jsx("img",{src:`${window.location.origin}/webassets/img/cart.svg`})]})]})]})})},s.id)})]})]})]})})}),e.jsx(_,{})]})};if(typeof window<"u"){const g=document.getElementById("react-products-root");g&&b(g).render(e.jsx(L,{}))}
